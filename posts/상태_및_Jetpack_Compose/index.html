<!DOCTYPE html><html lang="en" > <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compose - 상태 및 Jetpack Compose | YunzaiDev</title><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Compose - 상태 및 Jetpack Compose" /><meta name="author" content="Yun-Jae Na" /><meta property="og:locale" content="en_US" /><meta name="description" content="https://developer.android.com/jetpack/compose 공식 문서를 보고 정리한 글입니다." /><meta property="og:description" content="https://developer.android.com/jetpack/compose 공식 문서를 보고 정리한 글입니다." /><link rel="canonical" href="https://yunzai.dev/posts/%EC%83%81%ED%83%9C_%EB%B0%8F_Jetpack_Compose/" /><meta property="og:url" content="https://yunzai.dev/posts/%EC%83%81%ED%83%9C_%EB%B0%8F_Jetpack_Compose/" /><meta property="og:site_name" content="YunzaiDev" /><meta property="og:image" content="https://drive.google.com/uc?export=view&id=1FiyACihKUpfl4_8uCh8LVRx5DfQsIv7m" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-11-08T15:31:00+00:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://drive.google.com/uc?export=view&id=1FiyACihKUpfl4_8uCh8LVRx5DfQsIv7m" /><meta property="twitter:title" content="Compose - 상태 및 Jetpack Compose" /><meta name="twitter:site" content="@jasonNa96" /><meta name="twitter:creator" content="@Yun-Jae Na" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"image":"https://drive.google.com/uc?export=view&id=1FiyACihKUpfl4_8uCh8LVRx5DfQsIv7m","description":"https://developer.android.com/jetpack/compose 공식 문서를 보고 정리한 글입니다.","headline":"Compose - 상태 및 Jetpack Compose","dateModified":"2021-11-08T15:31:00+00:00","datePublished":"2021-11-08T15:31:00+00:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://yunzai.dev/posts/%EC%83%81%ED%83%9C_%EB%B0%8F_Jetpack_Compose/"},"url":"https://yunzai.dev/posts/%EC%83%81%ED%83%9C_%EB%B0%8F_Jetpack_Compose/","author":{"@type":"Person","name":"Yun-Jae Na"},"@context":"https://schema.org"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"> <!-- CSS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" async></script> <!-- JS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --> <script src="/assets/js/post.min.js" async></script> <script src="/app.js" defer></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">YunzaiDev</a></div><div class="site-subtitle font-italic">Endless Learning</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></li></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <!-- Switch the mode between dark and light. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightkMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightkMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/yunjaena" target="_blank"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/jasonNa96" target="_blank"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:window.open('mailto:' + ['yunjaena','gmail.com'].join('@'))" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" > <i class="fas fa-rss"></i> </a></div></div><!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Compose - 상태 및 Jetpack Compose</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"> <!-- Refactor the HTML structure. --> <!-- Suroundding the markdown table with '<div class="table-wrapper">. and '</div>' --> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Compose - 상태 및 Jetpack Compose</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Nov 8, 2021, 3:31 PM +0000" > Nov 8 <i class="unloaded">2021-11-08T15:31:00+00:00</i> </span> by <span class="author"> Yun-Jae Na </span></div></div><div class="post-content"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="https://drive.google.com/uc?export=view&id=1FiyACihKUpfl4_8uCh8LVRx5DfQsIv7m" class="post-preview-img"><blockquote><p><a href="https://developer.android.com/jetpack/compose">https://developer.android.com/jetpack/compose</a> 공식 문서를 보고 정리한 글입니다.</p></blockquote><h1 id="상태-및-jetpack-compose">상태 및 Jetpack Compose</h1><h2 id="상태-및-컴포지션">상태 및 컴포지션</h2><ul><li><p>Compose는 선언적이므로 Compose를 업데이트하는 유일한 방법은 새 인수로 동일한 컴포저블을 호출하는 것이다. 이러한 인수는 UI상태를 표현한다.</p></li><li><p>상태가 업데이트될 때마다 재구성이 실행된다. 따라서 <code class="language-plaintext highlighter-rouge">TextField</code>와 같은 항목은 명령형 XML기반 뷰에서 처럼 자동으로 업데이트가 되지 않으므로 새 상태에 따라 업데이트 되려면 새 상태를 명시적으로 알려야 한다.</p></li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">HelloContent</span><span class="p">()</span> <span class="p">{</span>
   <span class="nc">Column</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="nc">Modifier</span><span class="p">.</span><span class="nf">padding</span><span class="p">(</span><span class="mi">16</span><span class="p">.</span><span class="n">dp</span><span class="p">))</span> <span class="p">{</span>
       <span class="nc">Text</span><span class="p">(</span>
           <span class="n">text</span> <span class="p">=</span> <span class="s">"Hello!"</span><span class="p">,</span>
           <span class="n">modifier</span> <span class="p">=</span> <span class="nc">Modifier</span><span class="p">.</span><span class="nf">padding</span><span class="p">(</span><span class="n">bottom</span> <span class="p">=</span> <span class="mi">8</span><span class="p">.</span><span class="n">dp</span><span class="p">),</span>
           <span class="n">style</span> <span class="p">=</span> <span class="nc">MaterialTheme</span><span class="p">.</span><span class="n">typography</span><span class="p">.</span><span class="n">h5</span>
       <span class="p">)</span>
       <span class="nc">OutlinedTextField</span><span class="p">(</span>
           <span class="n">value</span> <span class="p">=</span> <span class="s">""</span><span class="p">,</span>
           <span class="n">onValueChange</span> <span class="p">=</span> <span class="p">{</span> <span class="p">},</span>
           <span class="n">label</span> <span class="p">=</span> <span class="p">{</span> <span class="nc">Text</span><span class="p">(</span><span class="s">"Name"</span><span class="p">)</span> <span class="p">}</span>
       <span class="p">)</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li><p>위의 코드를 실행하면 아무 일도 일어나지 않는다. <code class="language-plaintext highlighter-rouge">TextField</code>가 자체적으로 업데이트되지 않기 때문이다.</p></li><li><p>Compose에서의 컴포지션 및 리컴포지션 작동 방식 때문에 <code class="language-plaintext highlighter-rouge">value</code> 매개변수가 변경될 떄 업데이트가된다.</p></li><li><p>용어</p><ul><li><p>컴포지션 : Jetpack Compose가 컴포저블을 실행할 때 빌드한 UI에 관한 설명</p></li><li><p>초기 컴포지션: 처음 컴포저블을 실행하여 컴포지션을 만든다.</p></li><li><p>리컴포지션: 데이터가 변경될 때 컴포지션을 업데이트하기 위해 컴포저블을 다시 실행하는 것을 말한다.</p></li></ul></li></ul><h2 id="컴포저블의-상태">컴포저블의 상태</h2><ul><li><p>구성 가능한 함수는 <code class="language-plaintext highlighter-rouge">remember</code> 컴포저블을 사용하여 메모리에 단일 객체를 저장할 수 있다.</p></li><li><p><code class="language-plaintext highlighter-rouge">remember</code>에 의해 계산된 값은 초기 컴포지션 중에 컴포지션에 저장되고 저장된 값을 리컴포지션 중에 반환된다.</p></li><li><p><code class="language-plaintext highlighter-rouge">remember</code>는 변경 가능한 객체뿐만 아니라 변경할 수 없는 객체를 저장하는 데 사용할 수 있다.</p></li><li><p><code class="language-plaintext highlighter-rouge">remember</code>는 객체를 컴포지션에 저장하고, <code class="language-plaintext highlighter-rouge">remember</code>는 호출한 컴포저블이 컴포지션에서 삭제되면 그 객체를 잊는다.</p></li><li><p><code class="language-plaintext highlighter-rouge">mutableStateOf</code>는 관찰 가능한 <code class="language-plaintext highlighter-rouge">MutableState&lt;T&gt;</code>를 생성하고, 런타임 시 Compose에 통합되는 관찰 가능한 유형이다.</p></li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">interface</span> <span class="nc">MutableState</span><span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;</span> <span class="p">:</span> <span class="nc">State</span><span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="k">override</span> <span class="kd">var</span> <span class="py">value</span><span class="p">:</span> <span class="nc">T</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li><p><code class="language-plaintext highlighter-rouge">value</code>가 변경되면 <code class="language-plaintext highlighter-rouge">value</code>를 읽는 구성 가능한 함수의 리컴포지션이 예약이된다.</p></li><li><p>컴포저블에서 <code class="language-plaintext highlighter-rouge">MutableState</code>객체를 선언하는 데는 세 가지 방법이 있다.</p><ul><li><p>val mutableState = remember { mutableStateOf(default) }</p></li><li><p>var value by remember { mutableStateOf(default) }</p></li><li><p>val (value, setValue) = remember { mutableStateOf(default) }</p></li></ul></li><li><p>by 위임을 구문에는 아래와 같이 import를 해야된다.</p></li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nn">androidx.compose.runtime.getValue</span>
<span class="k">import</span> <span class="nn">androidx.compose.runtime.setValue</span>
</pre></table></code></div></div><ul><li>기억된 값은 다른 컴포저블의 매개변수로 사용하거나 구문의 로직으로 사용하여 표시할 컴포저블을 변경할 수 있다.</li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">HelloContent</span><span class="p">()</span> <span class="p">{</span>
   <span class="nc">Column</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="nc">Modifier</span><span class="p">.</span><span class="nf">padding</span><span class="p">(</span><span class="mi">16</span><span class="p">.</span><span class="n">dp</span><span class="p">))</span> <span class="p">{</span>
       <span class="kd">var</span> <span class="py">name</span> <span class="k">by</span> <span class="nf">remember</span> <span class="p">{</span> <span class="nf">mutableStateOf</span><span class="p">(</span><span class="s">""</span><span class="p">)</span> <span class="p">}</span>
       <span class="k">if</span> <span class="p">(</span><span class="n">name</span><span class="p">.</span><span class="nf">isNotEmpty</span><span class="p">())</span> <span class="p">{</span>
           <span class="nc">Text</span><span class="p">(</span>
               <span class="n">text</span> <span class="p">=</span> <span class="s">"Hello, $name!"</span><span class="p">,</span>
               <span class="n">modifier</span> <span class="p">=</span> <span class="nc">Modifier</span><span class="p">.</span><span class="nf">padding</span><span class="p">(</span><span class="n">bottom</span> <span class="p">=</span> <span class="mi">8</span><span class="p">.</span><span class="n">dp</span><span class="p">),</span>
               <span class="n">style</span> <span class="p">=</span> <span class="nc">MaterialTheme</span><span class="p">.</span><span class="n">typography</span><span class="p">.</span><span class="n">h5</span>
           <span class="p">)</span>
       <span class="p">}</span>
       <span class="nc">OutlinedTextField</span><span class="p">(</span>
           <span class="n">value</span> <span class="p">=</span> <span class="n">name</span><span class="p">,</span>
           <span class="n">onValueChange</span> <span class="p">=</span> <span class="p">{</span> <span class="n">name</span> <span class="p">=</span> <span class="n">it</span> <span class="p">},</span>
           <span class="n">label</span> <span class="p">=</span> <span class="p">{</span> <span class="nc">Text</span><span class="p">(</span><span class="s">"Name"</span><span class="p">)</span> <span class="p">}</span>
       <span class="p">)</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li><p><code class="language-plaintext highlighter-rouge">remember</code>가 재구성 과정 전체에서 상태를 유지하는 데 도움은 되지만 구성 변경 전반에서는 상태가 유지되지 않는다. 이 경우에는 <code class="language-plaintext highlighter-rouge">rememberSaveable</code>을 사용해야 한다.</p></li><li><p><code class="language-plaintext highlighter-rouge">rememberSaveable</code>은 <code class="language-plaintext highlighter-rouge">Bundle</code>에 저장할 수 있는 모든 값을 자동으로 저장한다. 다른 값의 경우에는 맞춤 <code class="language-plaintext highlighter-rouge">Saver</code>객체를 전달할 수 있다.</p></li></ul><h2 id="지원되는-기타-상태-유형">지원되는 기타 상태 유형</h2><ul><li><p>Jetpack Compose에서는 상태를 보존하기 위해 <code class="language-plaintext highlighter-rouge">MutableState&lt;T&gt;</code> 뿐만 아니라 관찰 가능한 다른 유형도 제공을 한다.</p></li><li><p>Jetpack Compoose에서 관찰 가능한 다른 유형을 읽으려면 상태를 <code class="language-plaintext highlighter-rouge">State&lt;T&gt;</code>로 변환해야 한다.</p></li><li><p>지원 목록</p><ul><li><p><a href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/livedata/package-summary">LiveData</a></p></li><li><p><a href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary#(kotlinx.coroutines.flow.StateFlow).collectAsState(kotlin.coroutines.CoroutineContext)">Flow</a></p></li><li><p><a href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/rxjava2/package-summary">RxJava2</a></p></li></ul></li></ul><h2 id="스테이트풀stateful과-스테이트리스stateless">스테이트풀(Stateful)과 스테이트리스(Stateless)</h2><ul><li><p><code class="language-plaintext highlighter-rouge">remember</code>를 사용하여 객체를 저장하는 컴포저블은 내부 상태를 생성하여 컴포저블을 스테이트풀(Stateful)로 만든다.</p></li><li><p>내부 상태를 갖는 컴포저블은 재사용 가능성이 저곡 테스트하기가 더 어려운 경향이 있다.</p></li><li><p>재사용 가능한 컴포저블을 개발할 때는 동일한 컴포저블의 스테이트풀(Stateful) 버전과 스테이트리스(Stateless) 버전을 모두 노출해야 하는 경우가 있다. 스테이트풀(Stateful) 버전은 상태를 염두에 두지 않는 호출자에 편리하며, 스테이트리스(Stateless) 버전은 상태를 제어하거나 끌어올려야 하는 호출자에 필요하다.</p></li></ul><h2 id="상태-호이스팅">상태 호이스팅</h2><ul><li><p>Compose에서 상태 끌어올리기는 컴포저블을 스테이트리스(Stateless)로 만들기 위해 상태를 컴포저블의 호출자로 옮기는 패턴이다.</p></li><li><p>Jetpack Composeㅇ에서 상태를 끌어올리기 위한 일반적 패턴은 상태 변수를 다음 두 개의 매개변수로 바꾸는 것이다.</p></li><li><p><code class="language-plaintext highlighter-rouge">value: T</code>: 표시할 현재 값</p></li><li><p><code class="language-plaintext highlighter-rouge">onValueChange: (T) -&gt; Unit : T</code>가 제안된 새 값인 경우 값을 변경하도록 요청하는 이벤트</p></li><li><p>위와 같은 경우 뿐만이 아니라 컴포저블의 더 특정한 이벤트가 어울리는 경우 ex) <code class="language-plaintext highlighter-rouge">ExpandingCard</code>가 <code class="language-plaintext highlighter-rouge">onExpand</code>와 <code class="language-plaintext highlighter-rouge">onCollapse</code>를 정의할 때와 같이 람다를 사용하여 그 이벤트를 정의해야 한다.</p></li><li><p>끓어올린(호이스팅) 상태에는 중요한 속성이 몇 가지 있다.</p><ul><li><p><em>단일 소스 저장</em> : 상태를 복제하는 대신 옮겼기 때문에 소스 저장소가 하나만 있다. 버그 방지에 도움이 된다.</p></li><li><p><em>캡슐화됨</em>: 스테이트풀(Stateful) 컴포저블만 상태를 수정할 수 있다. 철저히 내부적 속성이다.</p></li><li><p><em>공유 가능함</em>: 호이스팅한 상태를 여러 컴포저블과 공유할 수 있다. 다른 컴포저블에서 name을 사용하려는 경우 호이스팅을 통해 가능하다.</p></li><li><p><em>분리됨</em>: 스테이트리스(Stateless) <code class="language-plaintext highlighter-rouge">ExpandingCard</code>의 상태는 어디에나 저장할 수 있다. 예를 들어 <code class="language-plaintext highlighter-rouge">name</code>을 <code class="language-plaintext highlighter-rouge">ViewModel</code>로 옮길 수 있다.</p></li></ul></li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="cm">/**
* HelloContent 에서 name과 onValueChange를 추출한 다음, 이러한 항목을 트리 상단을 거쳐 HelloContent를 호출하는 HelloScreen 컴포저블로 옮긴다.
*/</span>
<span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">HelloScreen</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="py">name</span> <span class="k">by</span> <span class="nf">rememberSaveable</span> <span class="p">{</span> <span class="nf">mutableStateOf</span><span class="p">(</span><span class="s">""</span><span class="p">)</span> <span class="p">}</span>

    <span class="nc">HelloContent</span><span class="p">(</span><span class="n">name</span> <span class="p">=</span> <span class="n">name</span><span class="p">,</span> <span class="n">onNameChange</span> <span class="p">=</span> <span class="p">{</span> <span class="n">name</span> <span class="p">=</span> <span class="n">it</span> <span class="p">})</span>
<span class="p">}</span>

<span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">HelloContent</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="n">onNameChange</span><span class="p">:</span> <span class="p">(</span><span class="nc">String</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nc">Unit</span><span class="p">)</span> <span class="p">{</span>
    <span class="nc">Column</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="nc">Modifier</span><span class="p">.</span><span class="nf">padding</span><span class="p">(</span><span class="mi">16</span><span class="p">.</span><span class="n">dp</span><span class="p">))</span> <span class="p">{</span>
        <span class="nc">Text</span><span class="p">(</span>
            <span class="n">text</span> <span class="p">=</span> <span class="s">"Hello, $name"</span><span class="p">,</span>
            <span class="n">modifier</span> <span class="p">=</span> <span class="nc">Modifier</span><span class="p">.</span><span class="nf">padding</span><span class="p">(</span><span class="n">bottom</span> <span class="p">=</span> <span class="mi">8</span><span class="p">.</span><span class="n">dp</span><span class="p">),</span>
            <span class="n">style</span> <span class="p">=</span> <span class="nc">MaterialTheme</span><span class="p">.</span><span class="n">typography</span><span class="p">.</span><span class="n">h5</span>
        <span class="p">)</span>
        <span class="nc">OutlinedTextField</span><span class="p">(</span>
            <span class="n">value</span> <span class="p">=</span> <span class="n">name</span><span class="p">,</span>
            <span class="n">onValueChange</span> <span class="p">=</span> <span class="n">onNameChange</span><span class="p">,</span>
            <span class="n">label</span> <span class="p">=</span> <span class="p">{</span> <span class="nc">Text</span><span class="p">(</span><span class="s">"Name"</span><span class="p">)</span> <span class="p">}</span>
        <span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li><p>위에 코드와 같이 <code class="language-plaintext highlighter-rouge">HelloContent</code>에서 상태를 끌어오리면 더 쉽게 컴포저블을 추론하고 여러 상황에서 재사용하며 테스트 할 수 있다.</p></li><li><p><code class="language-plaintext highlighter-rouge">HelloContent</code>는 상태의 저장 방식과 분리된다. 분리된다는 것은 <code class="language-plaintext highlighter-rouge">HelloScreen</code>을 수정하거나 교체할 경우 <code class="language-plaintext highlighter-rouge">HelloContent</code>의 구현 방식을 변경할 필요가 없다는 의미다.</p></li><li><p>상택3ㅏ 내려가고 이벤트가 올라가는 패턴을 <code class="language-plaintext highlighter-rouge">단방향 데이터 흐름이라고 한다.</code> 이 경우 상태는 <code class="language-plaintext highlighter-rouge">HelloScreen</code>에서 <code class="language-plaintext highlighter-rouge">HelloContent</code>로 내려가고 이벤트는 <code class="language-plaintext highlighter-rouge">HelloContent</code>애서 <code class="language-plaintext highlighter-rouge">HelloScreen</code>으로 올라간다.</p></li><li><p>단뱡향 데이터 흐름을 따르면 UI에 상태를 표시하는 컴포저블과 상태를 저장하고 변경하는 앱 부분을 서로 분리할 수 있다.</p></li></ul><h2 id="compose에서-상태-복원">Compose에서 상태 복원</h2><ul><li><p>활동 또는 프로세스가 다시 생성된 이후 <code class="language-plaintext highlighter-rouge">rememberSaveable</code>을 사용하여 UI 상태를 복원한다.</p></li><li><p><code class="language-plaintext highlighter-rouge">rememberSaveable</code>은 재구성 과정 전체에서 상태를 유지한다.</p></li><li><p><code class="language-plaintext highlighter-rouge">rememberSaveable</code>은 Activity 및 프로세스 재생성 전반에 걸쳐 상태를 유지한다.</p></li></ul><h3 id="상태를-저장하는-방법">상태를 저장하는 방법</h3><ul><li><p><code class="language-plaintext highlighter-rouge">Bundle</code>에 추가되는 모든 데이터 유형은 자동으로 저장된다.</p></li><li><p><code class="language-plaintext highlighter-rouge">Bundle</code>에 추가할 수 없는 항목을 저장하려는 경우 몇 가지 옵션이 있다.</p></li></ul><h4 id="parcelize">Parcelize</h4><ul><li>가장 간단한 방법은 객체에 <code class="language-plaintext highlighter-rouge">@Parcelize</code> 주석을 추가하는 것이다. 그러면 객체가 <code class="language-plaintext highlighter-rouge">parcelable</code>이 되며 번들로 제공될 수 있다.</li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="nd">@Parcelize</span>
<span class="kd">data class</span> <span class="nc">City</span><span class="p">(</span><span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">country</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span> <span class="p">:</span> <span class="nc">Parcelable</span>

<span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">CityScreen</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="py">selectedCity</span> <span class="p">=</span> <span class="nf">rememberSaveable</span> <span class="p">{</span>
        <span class="nf">mutableStateOf</span><span class="p">(</span><span class="nc">City</span><span class="p">(</span><span class="s">"Madrid"</span><span class="p">,</span> <span class="s">"Spain"</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h4 id="mapsaver">MapSaver</h4><p>어떤 이유로 <code class="language-plaintext highlighter-rouge">@Parcelize</code>가 적합하지 않은 경우 <code class="language-plaintext highlighter-rouge">mapSaver</code>를 사용하여 시스템이 <code class="language-plaintext highlighter-rouge">Bundle</code>에 저장할 수 있는 값 집합으로 객체를 변환하는 고유한 규칙을 정의할 수 있다.</p><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="kd">data class</span> <span class="nc">City</span><span class="p">(</span><span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">country</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span>

<span class="kd">val</span> <span class="py">CitySaver</span> <span class="p">=</span> <span class="nf">run</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">nameKey</span> <span class="p">=</span> <span class="s">"Name"</span>
    <span class="kd">val</span> <span class="py">countryKey</span> <span class="p">=</span> <span class="s">"Country"</span>
    <span class="nf">mapSaver</span><span class="p">(</span>
        <span class="n">save</span> <span class="p">=</span> <span class="p">{</span> <span class="nf">mapOf</span><span class="p">(</span><span class="n">nameKey</span> <span class="n">to</span> <span class="n">it</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">countryKey</span> <span class="n">to</span> <span class="n">it</span><span class="p">.</span><span class="n">country</span><span class="p">)</span> <span class="p">},</span>
        <span class="n">restore</span> <span class="p">=</span> <span class="p">{</span> <span class="nc">City</span><span class="p">(</span><span class="n">it</span><span class="p">[</span><span class="n">nameKey</span><span class="p">]</span> <span class="k">as</span> <span class="nc">String</span><span class="p">,</span> <span class="n">it</span><span class="p">[</span><span class="n">countryKey</span><span class="p">]</span> <span class="k">as</span> <span class="nc">String</span><span class="p">)</span> <span class="p">}</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">CityScreen</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="py">selectedCity</span> <span class="p">=</span> <span class="nf">rememberSaveable</span><span class="p">(</span><span class="n">stateSaver</span> <span class="p">=</span> <span class="nc">CitySaver</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">mutableStateOf</span><span class="p">(</span><span class="nc">City</span><span class="p">(</span><span class="s">"Madrid"</span><span class="p">,</span> <span class="s">"Spain"</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h4 id="listsaver">ListSaver</h4><ul><li><code class="language-plaintext highlighter-rouge">listSaver</code>를 사용하고 색인을 키로 사용하면 맵의 키를 정의할 필요가 없다.</li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kd">data class</span> <span class="nc">City</span><span class="p">(</span><span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">country</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span>

<span class="kd">val</span> <span class="py">CitySaver</span> <span class="p">=</span> <span class="n">listSaver</span><span class="p">&lt;</span><span class="nc">City</span><span class="p">,</span> <span class="nc">Any</span><span class="p">&gt;(</span>
    <span class="n">save</span> <span class="p">=</span> <span class="p">{</span> <span class="nf">listOf</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">it</span><span class="p">.</span><span class="n">country</span><span class="p">)</span> <span class="p">},</span>
    <span class="n">restore</span> <span class="p">=</span> <span class="p">{</span> <span class="nc">City</span><span class="p">(</span><span class="n">it</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">as</span> <span class="nc">String</span><span class="p">,</span> <span class="n">it</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">as</span> <span class="nc">String</span><span class="p">)</span> <span class="p">}</span>
<span class="p">)</span>

<span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">CityScreen</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="py">selectedCity</span> <span class="p">=</span> <span class="nf">rememberSaveable</span><span class="p">(</span><span class="n">stateSaver</span> <span class="p">=</span> <span class="nc">CitySaver</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">mutableStateOf</span><span class="p">(</span><span class="nc">City</span><span class="p">(</span><span class="s">"Madrid"</span><span class="p">,</span> <span class="s">"Spain"</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="compose에서-상태-관리">Compose에서 상태 관리</h2><ul><li><p>간단한 상태 끌어올리기는 구성 가능한 함수 자체에서 관리 가능하지만 추적할 상태의 양이 늘어나는 경우나 구성 가능한 함수에서 실행할 로직이 발생하는 경우 로직과 상태 책임을 다른 클래스, 즉 <code class="language-plaintext highlighter-rouge">상태 홀더</code>에 위임하는 것이 좋다.</p></li><li><p>용어</p><ul><li><p><code class="language-plaintext highlighter-rouge">Composable(컴포저블)</code> : 간단한 UI 요소 상태 관리 목적.</p></li><li><p><code class="language-plaintext highlighter-rouge">State holders(상태 홀더)</code> : 복잡한 UI 요소 상태 관리 목적, 상태 홀더는 UI 요소의 상태와 UI 로직을 소유한다.</p></li><li><p><code class="language-plaintext highlighter-rouge">Architecture Components ViewModels(아키텍처 구성요소 ViewModel)</code> - 비즈니스 로직 및 화면 상태나 UI 상태에 대한 액세스 권한을 제공하는 특수한 유형의 상태 홀더이다.</p></li></ul></li><li><p>상태 홀더는 하단 앱 바와 같은 단일 위젯을 포함해 전체 화면 등 관리하는 관련 UI 요소의 범위에 따라 다양한 크기로 제공된며, <code class="language-plaintext highlighter-rouge">상태 홀더는 혼합 가능</code>하다. 즉, 상태 홀더는 상태를 집계할 때 다른 상태 홀더에 통합할 수 있다.</p></li><li><p>컴포저블은 복잡성에 따라 0개 이상의 상태 홀더(일반 객체 또는 ViewModel이거나 둘 다일 수 있음)를 사용할 수 있다.</p></li><li><p>일반 상태 홀더는 비즈니스 로직이나 화면 상태에 액세스해야 하는 경우 ViewModel을 사용할 수 있다.</p></li><li><p>ViewModel은 비즈니스 레이어 또는 데이터 영역을 사용한다.</p></li></ul><h3 id="상태-및-로직-유형">상태 및 로직 유형</h3><p>Android 앱에는 고려할 여러 유형의 상태가 있다.</p><ul><li><p><code class="language-plaintext highlighter-rouge">Ui elemenet state(UI 요소 상태)</code> : UI 요소를 호이스팅한 상태이다. 예를들어 <code class="language-plaintext highlighter-rouge">ScaffoldState</code>는 <code class="language-plaintext highlighter-rouge">Scaffold</code> 컴포저블의 상태를 처리한다.</p></li><li><p><code class="language-plaintext highlighter-rouge">Screen or UI state(화면 상태 또는 UI 상태)</code> : 화면에 표시되어야 하는 요소이다. 예를들어, 장바구니 항목, 사용자에게 표시할 메시지 또는 로딩 플래그를 포함하는 <code class="language-plaintext highlighter-rouge">CartUiState</code>가 있다. 이 상태는 애플리케이션 데이터를 포함하므로 대개 계층 구조의 다른 레이어에 연결된다.</p></li><li><p><code class="language-plaintext highlighter-rouge">UI behavior logic or UI logic(UI 동작 로직 또는 UI 로직)</code> : 화면에 상태 변경을 표시하는 방법과 관련되어있다. 예를 들어 탐색 로직은 다음에 표시할 화면을 결정하고, UI 로직은 스낵바 또는 토스트 메시지를 사용할 수 있는 화면에 사용자 메시지를 표시하는 방법을 결정한다. UI 동작 로직은 항상 컴포지션 내에 있어야 한다.</p></li><li><p><code class="language-plaintext highlighter-rouge">Business logic(비즈니스 로직)</code> : 상태 변경에 따라 진행해야 할 작업이다. 결제 또는 사용자 환경설정 저장 등이 에이다. 이 로직은 대개 비즈니스 레이어나 데이터 영역에 배치되고 UI 레이어에는 배치되지 않는다.</p></li></ul><h3 id="정보-소스로서의-컴포저블">정보 소스로서의 컴포저블</h3><ul><li>상태와 로직이 간단하면 컴포저블에 UI 로직과 UI 요소 상태를 사용하는 것이 좋다. 예를 들어 <code class="language-plaintext highlighter-rouge">ScaffoldState</code> 및 <code class="language-plaintext highlighter-rouge">CoroutineScope</code>를 처리하는 <code class="language-plaintext highlighter-rouge">MyApp</code> 컴포저블이다.</li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">MyApp</span><span class="p">()</span> <span class="p">{</span>
    <span class="nc">MyTheme</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">scaffoldState</span> <span class="p">=</span> <span class="nf">rememberScaffoldState</span><span class="p">()</span>
        <span class="kd">val</span> <span class="py">coroutineScope</span> <span class="p">=</span> <span class="nf">rememberCoroutineScope</span><span class="p">()</span>

        <span class="nc">Scaffold</span><span class="p">(</span><span class="n">scaffoldState</span> <span class="p">=</span> <span class="n">scaffoldState</span><span class="p">)</span> <span class="p">{</span>
            <span class="nc">MyContent</span><span class="p">(</span>
                <span class="n">showSnackbar</span> <span class="p">=</span> <span class="p">{</span> <span class="n">message</span> <span class="p">-&gt;</span>
                    <span class="n">coroutineScope</span><span class="p">.</span><span class="nf">launch</span> <span class="p">{</span>
                        <span class="n">scaffoldState</span><span class="p">.</span><span class="n">snackbarHostState</span><span class="p">.</span><span class="nf">showSnackbar</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li><p><code class="language-plaintext highlighter-rouge">ScaffoldState</code>에 변경 가능한 속성이 포함되므로 이 컴포저블과의 모든 상호작용은 <code class="language-plaintext highlighter-rouge">MyApp</code> 컴포저블에서 발생해야한다.</p></li><li><p>다른 컴포저블에 전달되면 그 컴포저블이 상태를 변경할 수 있으므로 단일 정보 소스 원칙에 위배되고 버그 추적이 어려워진다.</p></li></ul><h3 id="정보-소스로서의-상태-홀더">정보 소스로서의 상태 홀더</h3><ul><li><p>여러 UI 요소의 상태가 관련되어 있는 복잡한 UI 로직이 포함된 컴포저블은 책임을 상태 홀더에 위임해야 한다. 그러면 로직을 더 쉽게 격리하여 테스트할 수 있으며 컴포저블의 복잡성이 줄어든다.</p></li><li><p>이러한 접근 방식은 관심사 분리 원칙을 따르다. 즉, <code class="language-plaintext highlighter-rouge">컴포저블이 UI 요소를 방출하고 상태 홀더가 UI로직과 UI 요소의 상태를 포함한다.</code></p></li><li><p>상태 홀더는 컴포지션에서 생성되고 기억되는 일반 클래스이다. <code class="language-plaintext highlighter-rouge">컴포저블 수명 주기</code>를 따르므로 Compose 종속 항목을 사용할 수 있다.</p></li><li><p><code class="language-plaintext highlighter-rouge">정보 소스로서의 컴포저블</code> 색션에서 <code class="language-plaintext highlighter-rouge">MyApp</code> 컴포저블의 책임이 증가하면 <code class="language-plaintext highlighter-rouge">MyAppState</code> 상태 홀더를 만들어 복잡성을 관리할 수 있다.</p></li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="c1">// Plain class that manages App's UI logic and UI elements' state</span>
<span class="kd">class</span> <span class="nc">MyAppState</span><span class="p">(</span>
    <span class="kd">val</span> <span class="py">scaffoldState</span><span class="p">:</span> <span class="nc">ScaffoldState</span><span class="p">,</span>
    <span class="kd">val</span> <span class="py">navController</span><span class="p">:</span> <span class="nc">NavHostController</span><span class="p">,</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">resources</span><span class="p">:</span> <span class="nc">Resources</span><span class="p">,</span>
    <span class="cm">/* ... */</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">bottomBarTabs</span> <span class="p">=</span> <span class="cm">/* State */</span>

    <span class="c1">// Logic to decide when to show the bottom bar</span>
    <span class="kd">val</span> <span class="py">shouldShowBottomBar</span><span class="p">:</span> <span class="nc">Boolean</span>
        <span class="nd">@Composable</span> <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="cm">/* ... */</span>

    <span class="c1">// Navigation logic, which is a type of UI logic</span>
    <span class="k">fun</span> <span class="nf">navigateToBottomBarRoute</span><span class="p">(</span><span class="n">route</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>

    <span class="c1">// Show snackbar using Resources</span>
    <span class="k">fun</span> <span class="nf">showSnackbar</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
<span class="p">}</span>

<span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">rememberMyAppState</span><span class="p">(</span>
    <span class="n">scaffoldState</span><span class="p">:</span> <span class="nc">ScaffoldState</span> <span class="p">=</span> <span class="nf">rememberScaffoldState</span><span class="p">(),</span>
    <span class="n">navController</span><span class="p">:</span> <span class="nc">NavHostController</span> <span class="p">=</span> <span class="nf">rememberNavController</span><span class="p">(),</span>
    <span class="n">resources</span><span class="p">:</span> <span class="nc">Resources</span> <span class="p">=</span> <span class="nc">LocalContext</span><span class="p">.</span><span class="n">current</span><span class="p">.</span><span class="n">resources</span><span class="p">,</span>
    <span class="cm">/* ... */</span>
<span class="p">)</span> <span class="p">=</span> <span class="nf">remember</span><span class="p">(</span><span class="n">scaffoldState</span><span class="p">,</span> <span class="n">navController</span><span class="p">,</span> <span class="n">resources</span><span class="p">,</span> <span class="cm">/* ... */</span><span class="p">)</span> <span class="p">{</span>
    <span class="nc">MyAppState</span><span class="p">(</span><span class="n">scaffoldState</span><span class="p">,</span> <span class="n">navController</span><span class="p">,</span> <span class="n">resources</span><span class="p">,</span> <span class="cm">/* ... */</span><span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li><p><code class="language-plaintext highlighter-rouge">MyAppState</code>가 종속 항목을 취하므로 컴포지션 내 <code class="language-plaintext highlighter-rouge">MyAppState</code> 인스턴스를 기억하는 메서드를 제공하는 것이 좋다. 위의 경우에는 <code class="language-plaintext highlighter-rouge">rememberMyAppState</code> 함수이다.</p></li><li><p><code class="language-plaintext highlighter-rouge">MyApp</code>은 UI 요소를 방출하는 데 집중하고 모든 UI 로직과 UI 요소의 상태를 MyAppState에 위임한다.</p></li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">MyApp</span><span class="p">()</span> <span class="p">{</span>
    <span class="nc">MyTheme</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">myAppState</span> <span class="p">=</span> <span class="nf">rememberMyAppState</span><span class="p">()</span>
        <span class="nc">Scaffold</span><span class="p">(</span>
            <span class="n">scaffoldState</span> <span class="p">=</span> <span class="n">myAppState</span><span class="p">.</span><span class="n">scaffoldState</span><span class="p">,</span>
            <span class="n">bottomBar</span> <span class="p">=</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">myAppState</span><span class="p">.</span><span class="n">shouldShowBottomBar</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nc">BottomBar</span><span class="p">(</span>
                        <span class="n">tabs</span> <span class="p">=</span> <span class="n">myAppState</span><span class="p">.</span><span class="n">bottomBarTabs</span><span class="p">,</span>
                        <span class="n">navigateToRoute</span> <span class="p">=</span> <span class="p">{</span>
                            <span class="n">myAppState</span><span class="p">.</span><span class="nf">navigateToBottomBarRoute</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
                        <span class="p">}</span>
                    <span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">)</span> <span class="p">{</span>
            <span class="nc">NavHost</span><span class="p">(</span><span class="n">navController</span> <span class="p">=</span> <span class="n">myAppState</span><span class="p">.</span><span class="n">navController</span><span class="p">,</span> <span class="s">"initial"</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li><p><code class="language-plaintext highlighter-rouge">컴포저블의 책임을 늘리면 상태 홀더의 필요성이 증가</code>한다.</p></li><li><p>책임은 UI로직이거나, 단순히 추적할 상태의 양일 수 있다.</p></li></ul><h3 id="정보-소스로서의-viewmodel">정보 소스로서의 ViewModel</h3><ul><li><p>일반 상태 홀더 클래스가 UI로직과 UI 요소의 상태를 담당하는 경우 <code class="language-plaintext highlighter-rouge">ViewModel은 특별한 유형의 상태 홀더</code>로서 다음 작업을 진행한다.</p><ul><li><p>비즈니스 레이어와 데이터 영역 같이 대개 계층 구조의 다른 레이어에 배치되는 애플리케이션의 비즈니스 로직에 대한 액세스 권한 제공</p></li><li><p>특정 화면에 표시하기 위한 애플리케이션 데이터 준비(화면 상태 또는 UI 상태가 됨)</p></li></ul></li><li><p><code class="language-plaintext highlighter-rouge">ViewModel은 컴포지션보다 수명이 더 길다.</code> 구성 변경 후에도 그대로 유지되기 떄문이다.</p></li><li><p>ViewModel은 Compose 콘텐츠(Activity 또는 Fragment)의 호스트 생명 주기나 대상 새명 주기 또는 탐색 그래프의 생명 주기를 타를 수 있다.</p></li><li><p>ViewModel은 수명이 길기 때문에 컴포지션의 생명주기에 바인딩된 상태에 관한 장기 지속적인 참조를하면 안된다. 메모리 누수가 발생할 수 있다.</p></li><li><p><code class="language-plaintext highlighter-rouge">화면 수준 컴포저블</code>에서 ViewModel을 사용하여 UI 상태의 정보 소스로 비즈니스 로직에 대한 액세스 권한을 제공하는 것이 좋다.</p></li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kd">data class</span> <span class="nc">ExampleUiState</span><span class="p">(</span>
    <span class="n">dataToDisplayOnScreen</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">Example</span><span class="p">&gt;</span> <span class="p">=</span> <span class="nf">emptyList</span><span class="p">(),</span>
    <span class="n">userMessages</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">Message</span><span class="p">&gt;</span> <span class="p">=</span> <span class="nf">emptyList</span><span class="p">(),</span>
    <span class="n">loading</span><span class="p">:</span> <span class="nc">Boolean</span> <span class="p">=</span> <span class="k">false</span>
<span class="p">)</span>

<span class="kd">class</span> <span class="nc">ExampleViewModel</span><span class="p">(</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">repository</span><span class="p">:</span> <span class="nc">MyRepository</span><span class="p">,</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">savedState</span><span class="p">:</span> <span class="nc">SavedStateHandle</span>
<span class="p">)</span> <span class="p">:</span> <span class="nc">ViewModel</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="py">uiState</span> <span class="k">by</span> <span class="n">mutableStateOf</span><span class="p">&lt;</span><span class="nc">ExampleUiState</span><span class="p">&gt;(</span><span class="o">..</span><span class="p">.)</span>
        <span class="k">private</span> <span class="k">set</span>

    <span class="c1">// Business logic</span>
    <span class="k">fun</span> <span class="nf">somethingRelatedToBusinessLogic</span><span class="p">()</span> <span class="p">{</span> <span class="o">..</span><span class="p">.</span> <span class="p">}</span>
<span class="p">}</span>

<span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">ExampleScreen</span><span class="p">(</span><span class="n">viewModel</span><span class="p">:</span> <span class="nc">ExampleViewModel</span> <span class="p">=</span> <span class="nf">viewModel</span><span class="p">())</span> <span class="p">{</span>

    <span class="kd">val</span> <span class="py">uiState</span> <span class="p">=</span> <span class="n">viewModel</span><span class="p">.</span><span class="n">uiState</span>
    <span class="o">..</span><span class="p">.</span>

    <span class="nc">Button</span><span class="p">(</span><span class="n">onClick</span> <span class="p">=</span> <span class="p">{</span> <span class="n">viewModel</span><span class="p">.</span><span class="nf">somethingRelatedToBusinessLogic</span><span class="p">()</span> <span class="p">})</span> <span class="p">{</span>
        <span class="nc">Text</span><span class="p">(</span><span class="s">"Do something"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h3 id="viewmodel-및-상태-홀더">ViewModel 및 상태 홀더</h3><ul><li><p>Android 개발에서 <code class="language-plaintext highlighter-rouge">ViewModel이 가진 이점</code> 덕분에, 비즈니스 로직에 대한 액세스 권한을 제공하고 화면에 표시하기 위한 애플리케이션 데이터를 준비하는데 ViewModel이 적합하다.</p><ul><li><p>ViewModel에 의해 트리거된 작업이 구성 변경에도 그대로 유지된다.</p></li><li><p>Navigation과의 통합</p><ul><li><p>화면이 백 스택에 있는 동안 Navigation이 ViewModel을 캐싱한다.</p></li><li><p>개발자가 대상으로 돌아갈 때 이전에 로드한 데이터를 즉시 사용할 수 있도록 하는 것이 중요하다. 이 작업은 컴포저블 화면의 수명 주기를 따르는 상태 홀더를 사용할 경우 어려워진다.</p></li><li><p>백 스택에서 사라질 때 ViewModel도 삭제되기 때문에 상태가 자동으로 정리된다. 구성 변경으로 인한 새 화면으로의 이동 등 여러 이유로 발생할 수 있는 컴포저블 폐기에 대한 수신 대기와는 다르다.</p></li><li><p>Hilt와 같은 다른 Jetpack 라이브러리와의 통합을 할 수 있다.</p></li></ul></li></ul></li><li><p>상태 홀더가 혼합 가능하고 ViewModel과 일반 상태 홀더가 서로 다른 책임을 담당하므로, 비즈니스 로직에 대한 액세스 권한을 제공하는 ViewModel과 UI 로직과 UI요소의 상태를 관리하는 상태 홀더를 <code class="language-plaintext highlighter-rouge">화면 수준의 컴포저블에 모두 포함</code>할 수 있다.</p></li><li><p>ViewModel이 상태 홀더보다 수명이 길기 때문에, 필요한 경우 상태 홀더는 ViewModel을 종속 항목으로 사용할 수 있다.</p></li></ul><div class="language-kotlin highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="c1">// ExampleScreen에서 함께 작동하는 ViewModel과 일반 상태 홀더</span>
<span class="k">private</span> <span class="kd">class</span> <span class="nc">ExampleState</span><span class="p">(</span>
    <span class="kd">val</span> <span class="py">lazyListState</span><span class="p">:</span> <span class="nc">LazyListState</span><span class="p">,</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">resources</span><span class="p">:</span> <span class="nc">Resources</span><span class="p">,</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">expandedItems</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">Item</span><span class="p">&gt;</span> <span class="p">=</span> <span class="nf">emptyList</span><span class="p">()</span>
<span class="p">)</span> <span class="p">{</span> <span class="o">..</span><span class="p">.</span> <span class="p">}</span>

<span class="nd">@Composable</span>
<span class="k">private</span> <span class="k">fun</span> <span class="nf">rememberExampleState</span><span class="p">(</span><span class="o">..</span><span class="p">.)</span> <span class="p">{</span> <span class="o">..</span><span class="p">.</span> <span class="p">}</span>

<span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">ExampleScreen</span><span class="p">(</span><span class="n">viewModel</span><span class="p">:</span> <span class="nc">ExampleViewModel</span> <span class="p">=</span> <span class="nf">viewModel</span><span class="p">())</span> <span class="p">{</span>

    <span class="kd">val</span> <span class="py">uiState</span> <span class="p">=</span> <span class="n">viewModel</span><span class="p">.</span><span class="n">uiState</span>
    <span class="kd">val</span> <span class="py">exampleState</span> <span class="p">=</span> <span class="nf">rememberExampleState</span><span class="p">()</span>

    <span class="nc">LazyColumn</span><span class="p">(</span><span class="n">state</span> <span class="p">=</span> <span class="n">exampleState</span><span class="p">.</span><span class="n">lazyListState</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">items</span><span class="p">(</span><span class="n">uiState</span><span class="p">.</span><span class="n">dataToDisplayOnScreen</span><span class="p">)</span> <span class="p">{</span> <span class="n">item</span> <span class="p">-&gt;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">exampleState</span><span class="p">.</span><span class="nf">isExpandedItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="p">{</span>
                <span class="o">..</span><span class="p">.</span>
            <span class="p">}</span>
            <span class="o">..</span><span class="p">.</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>Android</a>, <a href='/categories/compose/'>Compose</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >Android</a> <a href="/tags/compose/" class="post-tag no-text-decoration" >Compose</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Compose - 상태 및 Jetpack Compose - YunzaiDev&url=https://yunzai.dev/posts/%EC%83%81%ED%83%9C_%EB%B0%8F_Jetpack_Compose/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Compose - 상태 및 Jetpack Compose - YunzaiDev&u=https://yunzai.dev/posts/%EC%83%81%ED%83%9C_%EB%B0%8F_Jetpack_Compose/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Compose - 상태 및 Jetpack Compose - YunzaiDev&url=https://yunzai.dev/posts/%EC%83%81%ED%83%9C_%EB%B0%8F_Jetpack_Compose/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><!-- The Pannel on right side (Desktop views) v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><h3 data-toc-skip>Recent Update</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Android_Fragment/">Android Fragment</a></li><li><a href="/posts/Slack_webhook_from_Android/">Slack Webhook from Android</a></li></ul></div><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/thread/">Thread</a> <a class="post-tag" href="/tags/android-database/">Android Database</a> <a class="post-tag" href="/tags/android/">Android</a> <a class="post-tag" href="/tags/compose/">Compose</a> <a class="post-tag" href="/tags/rxjava/">RxJava</a> <a class="post-tag" href="/tags/slack/">Slack</a> <a class="post-tag" href="/tags/mavencentral/">MavenCentral</a> <a class="post-tag" href="/tags/maven/">Maven</a> <a class="post-tag" href="/tags/library/">Library</a> <a class="post-tag" href="/tags/fragment/">Fragment</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-2">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Recommend the other 3 posts according to the tags and categories of the current post, if the number is not enough, use the other latest posts to supplement. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Compose_Compose%EC%9D%98_%EC%9D%B4%ED%95%B4/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Nov 5 <i class="unloaded">2021-11-05T16:14:00+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Compose - Compose의 이해</h3><div class="text-muted small"><p> https://developer.android.com/jetpack/compose 공식 문서를 보고 정리한 글입니다. Compose 이해 Jetpack Compose는 Android를 위한 현대적인 선언형 UI 도구 키트이다. Compose는 프런트엔드 뷰를 명령형으로 변형하지 않고도 앱 UI를 렌더링할 수 있게 하는 선형형 API...</p></div></div></a></div><div class="card"> <a href="/posts/RxJava_%EC%8A%A4%EC%BC%80%EC%A5%B4%EB%9F%AC%EC%9D%98_%EC%A2%85%EB%A5%98(2)/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Dec 28, 2020 <i class="unloaded">2020-12-28T11:20:00+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>RxJava - 스케쥴러의 종류(2)</h3><div class="text-muted small"><p> 스케쥴러(Scheduler)의 종류(2) 스케쥴러 설명 Schedulers.trampoline() - 현재 실행되고 있는 쓰레드에 큐(Queue)를 생성하여 처리할 작업들을 큐에 넣고 순서대로 처리한다. =&gt; FIFO(First In First Out) ...</p></div></div></a></div><div class="card"> <a href="/posts/RxJava_%EB%94%94%EB%B2%84%EA%B9%85/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Dec 29, 2020 <i class="unloaded">2020-12-29T13:20:00+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>RxJava - 디버깅</h3><div class="text-muted small"><p> RxJava의 디버깅 문제점과 대안 RxJava 프로그래밍은 데이터를 생성 및 통지하고 이를 구독하여 처리하는 과정이 하나의 문장으로 되어 있다. 즉, RxJava 프로그래밍은 선언적 프로그래밍 방식이기때문에 데이터의 상태 변화를 확인하기 위한 디버깅이 쉽지 않다. RxJava 프로그래밍은 여러 쓰레...</p></div></div></a></div></div></div><!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Compose_Compose%EC%9D%98_%EC%9D%B4%ED%95%B4/" class="btn btn-outline-primary"><p>Compose - Compose의 이해</p></a> <a href="/posts/Android_Activity/" class="btn btn-outline-primary"><p>Android Activity</p></a></div><!-- The Disqus lazy loading. Powered by: https://osvaldas.info/lazy-loading-disqus-comments v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT License --><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//yunjaena-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://yunzai.dev/posts/%EC%83%81%ED%83%9C_%EB%B0%8F_Jetpack_Compose/'; this.page.identifier = '/posts/%EC%83%81%ED%83%9C_%EB%B0%8F_Jetpack_Compose/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script> <!-- The Footer v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/jasonNa96">Yun-Jae Na</a></p></div></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="" target="_blank" rel="noopener"></a> theme.</p></div></div></footer></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/thread/">Thread</a> <a class="post-tag" href="/tags/android-database/">Android Database</a> <a class="post-tag" href="/tags/android/">Android</a> <a class="post-tag" href="/tags/compose/">Compose</a> <a class="post-tag" href="/tags/rxjava/">RxJava</a> <a class="post-tag" href="/tags/slack/">Slack</a> <a class="post-tag" href="/tags/mavencentral/">MavenCentral</a> <a class="post-tag" href="/tags/maven/">Maven</a> <a class="post-tag" href="/tags/library/">Library</a> <a class="post-tag" href="/tags/fragment/">Fragment</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- The GA snippet v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-180135347-1', 'auto'); ga('send', 'pageview'); </script> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://yunzai.dev{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
